<% if (!_.isString(slide) && !_.isArray(slide) && _.isObject(slide)) { %>
    <section <%= _.map(slide.attr, function (val, attr) {return attr + '="' + val + '"'}).join(' ')%> <% if (_.isString(slide.filename)) { %>data-<% if (slide.filename.indexOf('.html') !== -1) { %>html<% } else { %>markdown<% }%>="slides/<%= slide.filename %>"<% } %>></section>
<% } %><% if (_.isString(slide)) { %>
  <%
    var rgx = /(.*?)\.(md|html)/i;
    var match = rgx.exec(slide);
    var idattr = (match != null) ? "id='"+ match[1] +"'": "";
  %>
    <section <%= idattr %> data-<% if (slide.indexOf('.html') !== -1) { %>html<% } else { %>markdown<% }%>="slides/<%= slide %>"></section>
<% } %>
